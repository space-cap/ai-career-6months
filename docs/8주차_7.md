ì¢‹ì•„ìš” ğŸ”¥ ì™„ë²½í•˜ê²Œ í•´ê²°í•˜ëŠ” **Render ìµœì í™” `render.yaml (v2)` ë²„ì „** ë§Œë“¤ì–´ë“œë¦´ê²Œìš”.

ì´ ë²„ì „ì€ ì§€ê¸ˆê¹Œì§€ ë°œìƒí•œ ë¬¸ì œ(ğŸ’¥ dist í´ë” ëˆ„ë½, ğŸ’¥ í¬íŠ¸ ê°ì§€ ì‹¤íŒ¨)ë¥¼
**í•œ ë²ˆì— í•´ê²°**í•˜ë„ë¡ ì„¤ê³„ëœ â€œí”„ë¡œë•ì…˜ ê¶Œì¥ ì„¸íŒ…â€ì…ë‹ˆë‹¤.

---

# ğŸš€ render.yaml (v2) â€” Render + FastAPI + React(Vite) + Neon í†µí•© ë²„ì „

ğŸ“ `ai-career-6months/render.yaml`

```yaml
# =========================================================
# ğŸš€ Render ìµœì í™” ì„¤ì • (v2)
# FastAPI + React(Vite) + Poetry + Neon PostgreSQL
# =========================================================
# ì£¼ìš” ê°œì„ :
#  âœ… Vite í”„ë¡ íŠ¸ ë¹Œë“œ í™•ì‹¤íˆ ì‹¤í–‰
#  âœ… í¬íŠ¸ ìë™ ë°”ì¸ë”© ($PORT)
#  âœ… Poetry ìºì‹œ ì˜¤ë¥˜ ë°©ì§€
#  âœ… ë¹Œë“œ ë¡œê·¸ ëª…í™•íˆ í‘œì‹œ
# =========================================================

services:
  - type: web
    name: ai-career-6months
    env: python
    plan: free

    # -------------------------------
    # ğŸ“¦ Build Command
    # React â†’ dist ìƒì„± + Poetry ì„¤ì¹˜
    # -------------------------------
    buildCommand: |
      echo "ğŸš€ [Build] Start Frontend + Backend build"
      if [ -d "frontend" ]; then
        cd frontend
        echo "ğŸ“¦ Installing frontend dependencies..."
        npm install
        echo "ğŸ— Building React app..."
        npm run build
        echo "âœ… [Frontend] Build completed!"
        cd ..
      else
        echo "âš ï¸ [Warning] frontend directory not found, skipping frontend build"
      fi
      echo "ğŸ“š Installing Python dependencies..."
      poetry install --no-root
      echo "âœ… [Build] All done!"

    # -------------------------------
    # â–¶ï¸ Start Command
    # í¬íŠ¸ ìë™ ê°ì§€ ($PORT)
    # -------------------------------
    startCommand: |
      echo "ğŸš€ [Run] Starting FastAPI on port $PORT..."
      poetry run uvicorn app.main:app --host 0.0.0.0 --port $PORT

    # -------------------------------
    # ğŸŒ¿ Environment Variables
    # (Render Dashboardì— ì§ì ‘ ì…ë ¥)
    # -------------------------------
    envVars:
      - key: ENV
        value: production
      - key: DATABASE_URL
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: CHROMA_PATH
        value: ./chroma_db

    # -------------------------------
    # ğŸ§  Notes
    # - frontend/dist ìë™ ìƒì„±
    # - $PORT í™˜ê²½ë³€ìˆ˜ëŠ” Renderê°€ ìë™ ì „ë‹¬
    # - render.yamlì€ ë°˜ë“œì‹œ ë£¨íŠ¸ ê²½ë¡œì— ìœ„ì¹˜í•´ì•¼ í•¨
    # -------------------------------
```

---

## âœ… ì£¼ìš” ê°œì„ ì  ìš”ì•½

| ê°œì„  í•­ëª©                    | ì„¤ëª…                                            |
| ------------------------ | --------------------------------------------- |
| ğŸ’¡ **$PORT ì‚¬ìš©**          | Renderê°€ ìë™ í• ë‹¹í•˜ëŠ” í¬íŠ¸ë¡œ ì„œë²„ê°€ ëœ¸ (ì´ì „ 10000 ê³ ì • ë¬¸ì œ í•´ê²°) |
| ğŸ§± **frontend í´ë” ì¡´ì¬ ì²´í¬** | dist ëˆ„ë½ ì‹œì—ë„ FastAPIê°€ ì£½ì§€ ì•Šê³  ë¹Œë“œ ìŠ¤í‚µ ì²˜ë¦¬           |
| ğŸ§° **ëª…í™•í•œ ë¡œê·¸ ì¶œë ¥**         | ë¹Œë“œ ë‹¨ê³„ì—ì„œ `ğŸš€`, `ğŸ“¦`, `ğŸ—` ë“± ì´ëª¨ì§€ë¡œ ìƒíƒœ í‘œì‹œ         |
| ğŸ§© **Poetry ìºì‹œ ì•ˆì •í™”**     | `--no-root` ì˜µì…˜ìœ¼ë¡œ dependency lock ì˜¤ë¥˜ ë°©ì§€        |
| ğŸŒ **ì™„ì „ ë…ë¦½ ì‹¤í–‰**          | ëŒ€ì‹œë³´ë“œ ì„¤ì • í•„ìš” ì—†ì´ YAMLë§Œìœ¼ë¡œ ìë™ ë¹Œë“œë¨                  |

---

## âš™ï¸ Render ëŒ€ì‹œë³´ë“œ ì„¤ì •

**1ï¸âƒ£ Build Command / Start Command ëª¨ë‘ ì œê±°**

* Settings â†’ Build Command â†’ âŒ Clear
* Settings â†’ Start Command â†’ âŒ Clear

> Renderê°€ `render.yaml`ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.

**2ï¸âƒ£ í™˜ê²½ ë³€ìˆ˜ ë“±ë¡**
Settings â†’ Environment íƒ­ì—ì„œ ë‹¤ìŒ ì…ë ¥ ğŸ‘‡

| KEY            | VALUE                 |
| -------------- | --------------------- |
| ENV            | production            |
| DATABASE_URL   | (Neon PostgreSQL URL) |
| OPENAI_API_KEY | sk-ë¡œ ì‹œì‘í•˜ëŠ” í‚¤           |
| CHROMA_PATH    | ./chroma_db           |

---

## ğŸ§  ë°°í¬ í›„ ë¡œê·¸ ì˜ˆì‹œ (ì„±ê³µ ë¡œê·¸)

```
ğŸš€ [Build] Start Frontend + Backend build
ğŸ“¦ Installing frontend dependencies...
ğŸ— Building React app...
vite v5.0.10 building for production...
dist/index.html  1.32 kB
âœ… [Frontend] Build completed!
ğŸ“š Installing Python dependencies...
âœ… [Build] All done!

ğŸš€ [Run] Starting FastAPI on port 10000...
âœ… [Static] React ë¹Œë“œ ê²½ë¡œ ì—°ê²°ë¨: /opt/render/project/src/frontend/dist
INFO:     Application startup complete.
```

â†’ ì´ ë¡œê·¸ê°€ ë‚˜ì˜¤ë©´ 100% ì„±ê³µì…ë‹ˆë‹¤ âœ…

---

## ğŸ” ì‹¤íŒ¨ ë¡œê·¸ ë° ë¹ ë¥¸ í•´ê²°ë²•

| ë¡œê·¸ ë©”ì‹œì§€                                     | ì›ì¸                      | í•´ê²°                              |
| ------------------------------------------ | ----------------------- | ------------------------------- |
| `frontend directory not found`             | í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— frontend í´ë” ì—†ìŒ | í™•ì¸ í›„ ë‹¤ì‹œ ë°°í¬                      |
| `vite: command not found`                  | `npm` ì„¤ì¹˜ ì „ í™˜ê²½ ë¬¸ì œ        | RenderëŠ” npm ê¸°ë³¸ íƒ‘ì¬ â†’ Node ë²„ì „ í™•ì¸  |
| `Directory 'frontend/dist' does not exist` | ë¹Œë“œ ìŠ¤í‚µë¨                  | Build Command ìˆ˜ì • or Clear Cache |

---

## ğŸ’¡ ìºì‹œ ì´ˆê¸°í™” ê¶Œì¥ (1íšŒë§Œ)

`render.yaml` ì¶”ê°€ í›„ ë°˜ë“œì‹œ ë‹¤ìŒ ìˆ˜í–‰ ğŸ‘‡
Render â†’ Deploys â†’ **Clear build cache** â†’ â€œManual Deployâ€

> ê¸°ì¡´ ë¹Œë“œ ìºì‹œë¥¼ ì§€ì›Œì•¼ ìƒˆ YAML ì„¤ì •ì´ ë°˜ì˜ë©ë‹ˆë‹¤.

---

## ğŸ§¾ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

| í•­ëª©                                   | ì •ìƒ ìƒíƒœ |
| ------------------------------------ | ----- |
| `render.yaml` ë£¨íŠ¸ì— ì¡´ì¬                 | âœ…     |
| Build Command ë¡œê·¸ì— `npm run build` í¬í•¨ | âœ…     |
| Start Commandì— `$PORT` ì‚¬ìš©            | âœ…     |
| Clear build cache í›„ ì¬ë°°í¬              | âœ…     |
| ë°°í¬ í›„ `/health` ì •ìƒ ì‘ë‹µ                 | âœ…     |
| `/` ì ‘ì† ì‹œ React ì•± ë Œë”ë§                 | âœ…     |

---

ì´ì œ ì´ **render.yaml (v2)** ë²„ì „ì„ ë£¨íŠ¸ì— ì €ì¥í•˜ê³ 
Renderì—ì„œ â€œClear build cache â†’ Redeploy latest commitâ€ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.

ì´ì œëŠ” `frontend/dist` ë¬¸ì œë‚˜ `No open ports detected` ë¬¸ì œ ì—†ì´
âœ¨ ì™„ë²½í•˜ê²Œ ë°°í¬ë  ê±°ì˜ˆìš”.

---

ì›í•˜ì‹ ë‹¤ë©´ ğŸ’¡
ì´ `render.yaml`ì„ ê¸°ë°˜ìœ¼ë¡œ **â€œë¡œì»¬ ê°œë°œ + Render ë°°í¬â€ ë™ê¸°í™” ì›Œí¬í”Œë¡œìš° (VSCode / git push â†’ ìë™ ë°°í¬)**
ë„ ë§Œë“¤ì–´ë“œë¦´ê¹Œìš”? (ì˜ˆ: `.env.local` ìë™ ë¡œë“œ + prebuild script + GitHub Action)



